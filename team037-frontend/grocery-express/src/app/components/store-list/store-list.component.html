<!-- <div *ngFor="let thisStore of stores">
    {{ thisStore.store_name }}: {{ thisStore.revenue}}
</div> -->

<div class="main-content">
  <h1 class="mt-3 mb-3 title-divider">Stores</h1>
  <!-- Button trigger modal -->
  <button *ngIf="loggedInType == '1' || loggedInType == '2'" type="button" class="btn btn-primary title-divider" data-bs-toggle="modal"
    data-bs-target="#staticBackdrop">
    Add Store
  </button>

  <!-- Modal -->
  <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="staticBackdropLabel">Add Store</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form #newStoreForm="ngForm" (submit)="addStore(newStoreForm)">
            <div class="mb-3">
              <label for="message-text" class="col-form-label">New Store Name</label>
              <input type="text" class="form-control" name="storeName" ngModel>
            </div>
            <div class="mb-3">
              <label for="message-text" class="col-form-label">Revenue</label>
              <input type="text" class="form-control" name="revenue" ngModel>
            </div>

            <div class="modal-footer">
              <div *ngIf="errCode!=200 && errCode!=0" class="alert alert-danger" role="alert">
                Store not added! {{errMsg}}
              </div>
              <div *ngIf="errCode==200" class="alert alert-success" role="alert">
                Store has been added!
              </div>
              <!-- <p *ngIf="errCode!=200 && errCode!=0" style="color:red;font-size:200%;">Error! {{errMsg}}</p> -->

              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"
                (click)="resetForm(newStoreForm);">Close</button>

              <button type="button" class="btn btn-primary" type="submit">Add New Store</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <div class="section-content-p30">
    <div class="container-fluid">

      <div class="row">

        <!-- loop over the collection of stores -->
        <div *ngFor="let thisStore of stores; let i = index" class="col-md-3">

          <div class="product-box">
            <!-- <img src="assets/images/logo.png" class="img-responsive"> -->
            <h1>{{ thisStore.store_name }}</h1>
            <div *ngIf=" currentUser=='1' || currentUser=='2' " class="price admin revenue">Revenue: {{ thisStore.revenue}}</div>
            <div *ngIf=" currentUser=='1' || currentUser=='2' " class="price admin revenue">Incoming Revenue: {{ thisStore.incoming_revenue}}</div>
            <!-- <div class="price">{{ tempProduct.unitPrice | currency:'USD' }}</div> -->
            <button routerLink="/items/details" class="btn btn-primary admin"
              (click)="sendCurrentStore( thisStore.store_name )">Items</button>
            <div class="divider"></div>
            <button *ngIf=" currentUser=='1' || currentUser=='2' " routerLink="/drones/details" class="btn btn-primary admin"
              (click)="sendCurrentStore( thisStore.store_name )">Drones</button>
            <div class="divider"></div>
            <button  routerLink="/orders/details" class="btn btn-primary admin"
              (click)="sendCurrentStore( thisStore.store_name )">Orders</button>
          </div>

        </div>
      </div>
    </div>

  </div>
</div>
